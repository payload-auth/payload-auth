import { baModelKey, defaults } from "../../constants";
import { set } from "../../utils/set";
import { getSchemaCollectionSlug } from "../build-collections/utils/collection-schema";
export function configureAdminPlugin(plugin, options, resolvedSchemas) {
    plugin.defaultRole = options.users?.defaultRole ?? defaults.userRole;
    plugin.adminRoles = options.users?.adminRoles ?? [
        defaults.adminRole
    ];
    set(plugin, `schema.${baModelKey.session}.fields.impersonatedBy.references.model`, getSchemaCollectionSlug(resolvedSchemas, baModelKey.user));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9iZXR0ZXItYXV0aC9wbHVnaW4vbGliL3Nhbml0aXplLWJldHRlci1hdXRoLW9wdGlvbnMvYWRtaW4tcGx1Z2luLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJhTW9kZWxLZXksIGRlZmF1bHRzIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzJ1xuaW1wb3J0IHR5cGUgeyBCZXR0ZXJBdXRoUGx1Z2luT3B0aW9ucywgQmV0dGVyQXV0aFNjaGVtYXMgfSBmcm9tICdAL2JldHRlci1hdXRoL3R5cGVzJ1xuaW1wb3J0IHsgc2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvc2V0J1xuaW1wb3J0IHsgZ2V0U2NoZW1hQ29sbGVjdGlvblNsdWcgfSBmcm9tICcuLi9idWlsZC1jb2xsZWN0aW9ucy91dGlscy9jb2xsZWN0aW9uLXNjaGVtYSdcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZUFkbWluUGx1Z2luKHBsdWdpbjogYW55LCBvcHRpb25zOiBCZXR0ZXJBdXRoUGx1Z2luT3B0aW9ucywgcmVzb2x2ZWRTY2hlbWFzOiBCZXR0ZXJBdXRoU2NoZW1hcyk6IHZvaWQge1xuICBwbHVnaW4uZGVmYXVsdFJvbGUgPSBvcHRpb25zLnVzZXJzPy5kZWZhdWx0Um9sZSA/PyBkZWZhdWx0cy51c2VyUm9sZVxuICBwbHVnaW4uYWRtaW5Sb2xlcyA9IG9wdGlvbnMudXNlcnM/LmFkbWluUm9sZXMgPz8gW2RlZmF1bHRzLmFkbWluUm9sZV1cblxuICBzZXQoXG4gICAgcGx1Z2luLFxuICAgIGBzY2hlbWEuJHtiYU1vZGVsS2V5LnNlc3Npb259LmZpZWxkcy5pbXBlcnNvbmF0ZWRCeS5yZWZlcmVuY2VzLm1vZGVsYCxcbiAgICBnZXRTY2hlbWFDb2xsZWN0aW9uU2x1ZyhyZXNvbHZlZFNjaGVtYXMsIGJhTW9kZWxLZXkudXNlcilcbiAgKVxufVxuIl0sIm5hbWVzIjpbImJhTW9kZWxLZXkiLCJkZWZhdWx0cyIsInNldCIsImdldFNjaGVtYUNvbGxlY3Rpb25TbHVnIiwiY29uZmlndXJlQWRtaW5QbHVnaW4iLCJwbHVnaW4iLCJvcHRpb25zIiwicmVzb2x2ZWRTY2hlbWFzIiwiZGVmYXVsdFJvbGUiLCJ1c2VycyIsInVzZXJSb2xlIiwiYWRtaW5Sb2xlcyIsImFkbWluUm9sZSIsInNlc3Npb24iLCJ1c2VyIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxVQUFVLEVBQUVDLFFBQVEsUUFBUSxrQkFBaUI7QUFFdEQsU0FBU0MsR0FBRyxRQUFRLGtCQUFpQjtBQUNyQyxTQUFTQyx1QkFBdUIsUUFBUSwrQ0FBOEM7QUFFdEYsT0FBTyxTQUFTQyxxQkFBcUJDLE1BQVcsRUFBRUMsT0FBZ0MsRUFBRUMsZUFBa0M7SUFDcEhGLE9BQU9HLFdBQVcsR0FBR0YsUUFBUUcsS0FBSyxFQUFFRCxlQUFlUCxTQUFTUyxRQUFRO0lBQ3BFTCxPQUFPTSxVQUFVLEdBQUdMLFFBQVFHLEtBQUssRUFBRUUsY0FBYztRQUFDVixTQUFTVyxTQUFTO0tBQUM7SUFFckVWLElBQ0VHLFFBQ0EsQ0FBQyxPQUFPLEVBQUVMLFdBQVdhLE9BQU8sQ0FBQyx1Q0FBdUMsQ0FBQyxFQUNyRVYsd0JBQXdCSSxpQkFBaUJQLFdBQVdjLElBQUk7QUFFNUQifQ==