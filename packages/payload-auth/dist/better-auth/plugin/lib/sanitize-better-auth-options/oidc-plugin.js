import { baModelFieldKeys, baModelKey } from "../../constants";
import { set } from "../../utils/set";
import { getSchemaCollectionSlug, getSchemaFieldName } from "../build-collections/utils/collection-schema";
export function configureOidcPlugin(plugin, resolvedSchemas) {
    const models = [
        baModelKey.oauthApplication,
        baModelKey.oauthAccessToken,
        baModelKey.oauthConsent
    ];
    models.forEach((model)=>set(plugin, `schema.${model}.modelName`, getSchemaCollectionSlug(resolvedSchemas, model)));
    set(plugin, `schema.${baModelKey.oauthApplication}.fields.userId.fieldName`, getSchemaFieldName(resolvedSchemas, baModelKey.oauthApplication, baModelFieldKeys.oauthApplication.userId));
    set(plugin, `schema.${baModelKey.oauthAccessToken}.fields.userId.fieldName`, getSchemaFieldName(resolvedSchemas, baModelKey.oauthAccessToken, baModelFieldKeys.oauthAccessToken.userId));
    set(plugin, `schema.${baModelKey.oauthAccessToken}.fields.clientId.fieldName`, getSchemaFieldName(resolvedSchemas, baModelKey.oauthAccessToken, baModelFieldKeys.oauthAccessToken.clientId));
    set(plugin, `schema.${baModelKey.oauthConsent}.fields.userId.fieldName`, getSchemaFieldName(resolvedSchemas, baModelKey.oauthConsent, baModelFieldKeys.oauthConsent.userId));
    set(plugin, `schema.${baModelKey.oauthConsent}.fields.clientId.fieldName`, getSchemaFieldName(resolvedSchemas, baModelKey.oauthConsent, baModelFieldKeys.oauthConsent.clientId));
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9iZXR0ZXItYXV0aC9wbHVnaW4vbGliL3Nhbml0aXplLWJldHRlci1hdXRoLW9wdGlvbnMvb2lkYy1wbHVnaW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmFNb2RlbEZpZWxkS2V5cywgYmFNb2RlbEtleSB9IGZyb20gJ0AvYmV0dGVyLWF1dGgvcGx1Z2luL2NvbnN0YW50cydcbmltcG9ydCB7IHNldCB9IGZyb20gJy4uLy4uL3V0aWxzL3NldCdcbmltcG9ydCB7IGdldFNjaGVtYUNvbGxlY3Rpb25TbHVnLCBnZXRTY2hlbWFGaWVsZE5hbWUgfSBmcm9tICcuLi9idWlsZC1jb2xsZWN0aW9ucy91dGlscy9jb2xsZWN0aW9uLXNjaGVtYSdcbmltcG9ydCB0eXBlIHsgQmV0dGVyQXV0aFNjaGVtYXMgfSBmcm9tICdAL2JldHRlci1hdXRoL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlT2lkY1BsdWdpbihwbHVnaW46IGFueSwgcmVzb2x2ZWRTY2hlbWFzOiBCZXR0ZXJBdXRoU2NoZW1hcyk6IHZvaWQge1xuICBjb25zdCBtb2RlbHMgPSBbYmFNb2RlbEtleS5vYXV0aEFwcGxpY2F0aW9uLCBiYU1vZGVsS2V5Lm9hdXRoQWNjZXNzVG9rZW4sIGJhTW9kZWxLZXkub2F1dGhDb25zZW50XSBhcyBjb25zdFxuXG4gIG1vZGVscy5mb3JFYWNoKChtb2RlbCkgPT4gc2V0KHBsdWdpbiwgYHNjaGVtYS4ke21vZGVsfS5tb2RlbE5hbWVgLCBnZXRTY2hlbWFDb2xsZWN0aW9uU2x1ZyhyZXNvbHZlZFNjaGVtYXMsIG1vZGVsKSkpXG5cbiAgc2V0KFxuICAgIHBsdWdpbixcbiAgICBgc2NoZW1hLiR7YmFNb2RlbEtleS5vYXV0aEFwcGxpY2F0aW9ufS5maWVsZHMudXNlcklkLmZpZWxkTmFtZWAsXG4gICAgZ2V0U2NoZW1hRmllbGROYW1lKHJlc29sdmVkU2NoZW1hcywgYmFNb2RlbEtleS5vYXV0aEFwcGxpY2F0aW9uLCBiYU1vZGVsRmllbGRLZXlzLm9hdXRoQXBwbGljYXRpb24udXNlcklkKVxuICApXG5cbiAgc2V0KFxuICAgIHBsdWdpbixcbiAgICBgc2NoZW1hLiR7YmFNb2RlbEtleS5vYXV0aEFjY2Vzc1Rva2VufS5maWVsZHMudXNlcklkLmZpZWxkTmFtZWAsXG4gICAgZ2V0U2NoZW1hRmllbGROYW1lKHJlc29sdmVkU2NoZW1hcywgYmFNb2RlbEtleS5vYXV0aEFjY2Vzc1Rva2VuLCBiYU1vZGVsRmllbGRLZXlzLm9hdXRoQWNjZXNzVG9rZW4udXNlcklkKVxuICApXG4gIHNldChcbiAgICBwbHVnaW4sXG4gICAgYHNjaGVtYS4ke2JhTW9kZWxLZXkub2F1dGhBY2Nlc3NUb2tlbn0uZmllbGRzLmNsaWVudElkLmZpZWxkTmFtZWAsXG4gICAgZ2V0U2NoZW1hRmllbGROYW1lKHJlc29sdmVkU2NoZW1hcywgYmFNb2RlbEtleS5vYXV0aEFjY2Vzc1Rva2VuLCBiYU1vZGVsRmllbGRLZXlzLm9hdXRoQWNjZXNzVG9rZW4uY2xpZW50SWQpXG4gIClcblxuICBzZXQoXG4gICAgcGx1Z2luLFxuICAgIGBzY2hlbWEuJHtiYU1vZGVsS2V5Lm9hdXRoQ29uc2VudH0uZmllbGRzLnVzZXJJZC5maWVsZE5hbWVgLFxuICAgIGdldFNjaGVtYUZpZWxkTmFtZShyZXNvbHZlZFNjaGVtYXMsIGJhTW9kZWxLZXkub2F1dGhDb25zZW50LCBiYU1vZGVsRmllbGRLZXlzLm9hdXRoQ29uc2VudC51c2VySWQpXG4gIClcbiAgc2V0KFxuICAgIHBsdWdpbixcbiAgICBgc2NoZW1hLiR7YmFNb2RlbEtleS5vYXV0aENvbnNlbnR9LmZpZWxkcy5jbGllbnRJZC5maWVsZE5hbWVgLFxuICAgIGdldFNjaGVtYUZpZWxkTmFtZShyZXNvbHZlZFNjaGVtYXMsIGJhTW9kZWxLZXkub2F1dGhDb25zZW50LCBiYU1vZGVsRmllbGRLZXlzLm9hdXRoQ29uc2VudC5jbGllbnRJZClcbiAgKVxufVxuIl0sIm5hbWVzIjpbImJhTW9kZWxGaWVsZEtleXMiLCJiYU1vZGVsS2V5Iiwic2V0IiwiZ2V0U2NoZW1hQ29sbGVjdGlvblNsdWciLCJnZXRTY2hlbWFGaWVsZE5hbWUiLCJjb25maWd1cmVPaWRjUGx1Z2luIiwicGx1Z2luIiwicmVzb2x2ZWRTY2hlbWFzIiwibW9kZWxzIiwib2F1dGhBcHBsaWNhdGlvbiIsIm9hdXRoQWNjZXNzVG9rZW4iLCJvYXV0aENvbnNlbnQiLCJmb3JFYWNoIiwibW9kZWwiLCJ1c2VySWQiLCJjbGllbnRJZCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBQWdCLEVBQUVDLFVBQVUsUUFBUSxrQkFBZ0M7QUFDN0UsU0FBU0MsR0FBRyxRQUFRLGtCQUFpQjtBQUNyQyxTQUFTQyx1QkFBdUIsRUFBRUMsa0JBQWtCLFFBQVEsK0NBQThDO0FBRzFHLE9BQU8sU0FBU0Msb0JBQW9CQyxNQUFXLEVBQUVDLGVBQWtDO0lBQ2pGLE1BQU1DLFNBQVM7UUFBQ1AsV0FBV1EsZ0JBQWdCO1FBQUVSLFdBQVdTLGdCQUFnQjtRQUFFVCxXQUFXVSxZQUFZO0tBQUM7SUFFbEdILE9BQU9JLE9BQU8sQ0FBQyxDQUFDQyxRQUFVWCxJQUFJSSxRQUFRLENBQUMsT0FBTyxFQUFFTyxNQUFNLFVBQVUsQ0FBQyxFQUFFVix3QkFBd0JJLGlCQUFpQk07SUFFNUdYLElBQ0VJLFFBQ0EsQ0FBQyxPQUFPLEVBQUVMLFdBQVdRLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDLEVBQy9ETCxtQkFBbUJHLGlCQUFpQk4sV0FBV1EsZ0JBQWdCLEVBQUVULGlCQUFpQlMsZ0JBQWdCLENBQUNLLE1BQU07SUFHM0daLElBQ0VJLFFBQ0EsQ0FBQyxPQUFPLEVBQUVMLFdBQVdTLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDLEVBQy9ETixtQkFBbUJHLGlCQUFpQk4sV0FBV1MsZ0JBQWdCLEVBQUVWLGlCQUFpQlUsZ0JBQWdCLENBQUNJLE1BQU07SUFFM0daLElBQ0VJLFFBQ0EsQ0FBQyxPQUFPLEVBQUVMLFdBQVdTLGdCQUFnQixDQUFDLDBCQUEwQixDQUFDLEVBQ2pFTixtQkFBbUJHLGlCQUFpQk4sV0FBV1MsZ0JBQWdCLEVBQUVWLGlCQUFpQlUsZ0JBQWdCLENBQUNLLFFBQVE7SUFHN0diLElBQ0VJLFFBQ0EsQ0FBQyxPQUFPLEVBQUVMLFdBQVdVLFlBQVksQ0FBQyx3QkFBd0IsQ0FBQyxFQUMzRFAsbUJBQW1CRyxpQkFBaUJOLFdBQVdVLFlBQVksRUFBRVgsaUJBQWlCVyxZQUFZLENBQUNHLE1BQU07SUFFbkdaLElBQ0VJLFFBQ0EsQ0FBQyxPQUFPLEVBQUVMLFdBQVdVLFlBQVksQ0FBQywwQkFBMEIsQ0FBQyxFQUM3RFAsbUJBQW1CRyxpQkFBaUJOLFdBQVdVLFlBQVksRUFBRVgsaUJBQWlCVyxZQUFZLENBQUNJLFFBQVE7QUFFdkcifQ==